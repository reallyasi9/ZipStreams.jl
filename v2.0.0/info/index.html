<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Printing Information · ZipStreams</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ZipStreams</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><a class="tocitem" href="../sources/">Reading from Sources</a></li><li><a class="tocitem" href="../sinks/">Writing to Sinks</a></li><li class="is-active"><a class="tocitem" href>Printing Information</a><ul class="internal"><li><a class="tocitem" href="#API"><span>API</span></a></li></ul></li><li><a class="tocitem" href="../misc/">Other Operations</a></li><li><a class="tocitem" href="../pathological/">Pathological Files</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Printing Information</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Printing Information</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/reallyasi9/ZipStreams.jl/blob/main/docs/src/info.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Printing-info-about-ZIP-archives"><a class="docs-heading-anchor" href="#Printing-info-about-ZIP-archives">Printing info about ZIP archives</a><a id="Printing-info-about-ZIP-archives-1"></a><a class="docs-heading-anchor-permalink" href="#Printing-info-about-ZIP-archives" title="Permalink"></a></h1><p>You can print information about a ZIP archive or a file within a ZIP archive to the terminal (or any <code>IO</code> object) with the <code>info</code> method. The format of the information displayed for each file is similar to the short format produced by <a href="https://linux.die.net/man/1/zipinfo"><code>ZipInfo</code></a>. In general, the output has the following format:</p><pre><code class="nohighlight hljs">TTTT UUUUUUUU ZZZ LLL CCCCCCCC XXXX dd-mmm-yy hh:mm:ss 0xSSSSSSSS NAME</code></pre><p>The definitions of these fields are, in order:</p><ul><li><code>TTTT</code>: Either the string <code>&quot;file&quot;</code> or <code>&quot;dir &quot;</code>, signifying what kind of entry it is;</li><li><code>UUUUUUUU</code>: The uncompressed size of the file in bytes;</li><li><code>ZZZ</code>: Either the string <code>&quot;z64&quot;</code> or <code>&quot;---&quot;</code>, signifying that the Local File Header uses the Zip64 format;</li><li><code>LLL</code>: Either the string <code>&quot;lhx&quot;</code> or <code>&quot;---&quot;</code>, signifying that a Data Descriptor is used;</li><li><code>CCCCCCCC</code>: The compressed size of the file in bytes;</li><li><code>XXXX</code>: The compression method used to compress the data;</li><li><code>dd-mmm-yy hh:mm:ss</code>: The creation date and time of the file;</li><li><code>0xSSSSSSSS</code>: The CRC-32 checksum of the compressed data as a hexadecimal number;</li><li><code>NAME</code>: The name of the entry in the Local File Header.</li></ul><p>If called on an archive source, info about all of the archived entities read from the source so far is printed in archive order, along with status information about how much has been read from the archive so far, whether or not the EOF has been reached, and statistics about the number and size of the entries.</p><p>The first call to <code>info</code> in this example reports nothing has been read yet:</p><pre><code class="language-julia hljs">using ZipStreams

buffer = IOBuffer()
zipsink(buffer) do sink
    write_file(sink, &quot;hello.txt&quot;, &quot;Hello, Julia!&quot;)
    write_file(sink, &quot;subdir/goodbye.txt&quot;, &quot;Goodbye, Julia!&quot;; compression=:store, make_path=true)
end

seekstart(buffer)
zipsource(buffer) do source
    info(source)
end

# output

ZIP archive source stream data after reading 0 B, number of entries: 0</code></pre><p>After reading all of the data in the archive using <code>vialidate</code>, a call to <code>info</code> reports information about the entities read:</p><pre><code class="language-julia hljs">seekstart(buffer)
zipsource(buffer) do source
    validate(source)
    info(source)
end

# output

ZIP archive source stream data after reading 348 B (EOF reached), number of entries: 3
file       13 --- ---       15 defl 02-Nov-22 00:58:36 0xb2284bb4 hello.txt
dir         0 --- ---        0 stor 02-Nov-22 00:58:36 0x00000000 subdir/
file       15 --- ---       15 stor 02-Nov-22 00:58:36 0xb24bab9f subdir/goodbye.txt
2 files, 28 B uncompressed, 30 B compressed</code></pre><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ZipStreams.info" href="#ZipStreams.info"><code>ZipStreams.info</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">info([io::IO = stdout], zip)</code></pre><p>Print information about a ZIP archive or file stream.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/reallyasi9/ZipStreams.jl/blob/89fd30cadd0b620b44c40cf5c78da0104c750e1f/src/info.jl#L3-L7">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../sinks/">« Writing to Sinks</a><a class="docs-footer-nextpage" href="../misc/">Other Operations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 3 February 2023 03:48">Friday 3 February 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
